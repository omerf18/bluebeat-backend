(function(e){function t(t){for(var n,i,a=t[0],u=t[1],c=t[2],p=0,d=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},4612:function(e,t,r){"use strict";r("c0e9")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),r("router-view")],1)},s=[],i=(r("5c0b"),r("2877")),a={},u=Object(i["a"])(a,o,s,!1,null,null,null),c=u.exports,l=r("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},d=[],v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),r("br"),e._v(" check out the "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[e._v("router")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-vuex",target:"_blank",rel:"noopener"}},[e._v("vuex")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],h={name:"HelloWorld",props:{msg:String}},f=h,g=(r("4612"),Object(i["a"])(f,v,m,!1,null,"12b1648c",null)),y=g.exports,_={name:"Home",components:{HelloWorld:y}},w=_,b=Object(i["a"])(w,p,d,!1,null,null,null),k=b.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"toy-app"},[r("h1",[e._v("Toys")]),e.loginUser?r("button",{on:{click:e.dispatchLogout}},[e._v("Logout")]):e._e(),e.loginUser?e._e():r("button",{on:{click:e.login}},[e._v("Login")]),e.loginUser?r("h2",[e._v(" User: "+e._s(e.loginUser.username))]):e._e(),e.loginUser?r("user-list",{attrs:{users:e.users},on:{loadUsers:e.dispatchUsers,deleteUser:e.dispatchDeleteUser}}):e._e(),r("button",{on:{click:e.addToy}},[e._v("Add Toy")]),r("toy-list",{attrs:{toys:e.toys},on:{deleteToy:e.dispatchDelete}})],1)},U=[],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toys?r("section",{staticClass:"toy-list"},[r("ul",e._l(e.toys,(function(t){return r("li",{key:t.id},[r("toy-preview",{attrs:{toy:t},on:{deleteToy:e.emitDelete}})],1)})),0)]):e._e()},j=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"toy-preview"},[r("h2",[e._v(e._s(e.toy.name))]),e.toy.imgUrl?r("img",{attrs:{src:e.toy.imgUrl,alt:""}}):e._e(),r("button",{on:{click:function(t){return e.showDetails(e.toy._id)}}},[e._v("Details")]),r("button",{on:{click:function(t){return e.goToEdit(e.toy._id)}}},[e._v("Edit")]),r("button",{on:{click:function(t){return e.emitDelete(e.toy._id)}}},[e._v("X")])])},T=[],R={name:"toy-preview",props:{toy:Object},methods:{goToEdit:function(e){this.$router.push("/edit/".concat(e))},showDetails:function(e){this.$router.push("/details/".concat(e))},emitDelete:function(e){this.$emit("deleteToy",e)}}},E=R,S=Object(i["a"])(E,O,T,!1,null,null,null),C=S.exports,D={name:"toy-list",props:{toys:Array},methods:{emitDelete:function(e){this.$emit("deleteToy",e)}},components:{toyPreview:C},created:function(){}},I=D,P=Object(i["a"])(I,$,j,!1,null,null,null),A=P.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.users?r("section",{staticClass:"toy-list"},[e.usersShows?e._e():r("button",{on:{click:e.loadUsers}},[e._v("Show Users")]),e.usersShows?r("button",{on:{click:e.hideUsers}},[e._v("Hide Users")]):e._e(),e.usersShows?r("ul",e._l(e.users,(function(t){return r("li",{key:t.id},[r("user-preview",{attrs:{user:t},on:{deleteUser:e.emitDelete}})],1)})),0):e._e()]):e._e()},N=[],B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"user-preview"},[r("h2",[e._v(e._s(e.user.username))]),r("button",{on:{click:function(t){return e.showUserDetails(e.user._id)}}},[e._v("Details")]),r("button",{on:{click:function(t){return e.emitDelete(e.user._id)}}},[e._v("X")])])},H=[],F={name:"user-preview",props:{user:Object},methods:{showUserDetails:function(e){this.$router.push("/user/details/".concat(e))},emitDelete:function(e){console.log(e),this.$emit("deleteUser",e)}}},J=F,q=Object(i["a"])(J,B,H,!1,null,null,null),M=q.exports,W={name:"user-list",data:function(){return{usersShows:!1}},props:{users:Array},methods:{loadUsers:function(){this.usersShows=!this.usersShows,this.$emit("loadUsers")},hideUsers:function(){this.usersShows=!1},emitDelete:function(e){this.$emit("deleteUser",e)}},components:{userPreview:M},created:function(){}},G=W,V=Object(i["a"])(G,L,N,!1,null,null,null),X=V.exports,z={name:"toy-app",methods:{dispatchDelete:function(e){this.$store.dispatch({type:"deleteToy",toyId:e})},dispatchDeleteUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})},addToy:function(){this.$router.push("/edit")},dispatchLogout:function(){this.$store.dispatch({type:"logout"})},login:function(){this.$router.push("/login")},dispatchUsers:function(){this.$store.dispatch({type:"loadUsers"})}},computed:{toys:function(){return this.$store.getters.toys},loginUser:function(){return this.$store.getters.loggedinUser},users:function(){return this.$store.getters.users}},created:function(){this.$store.dispatch({type:"loadToys"})},components:{toyList:A,userList:X}},Y=z,K=Object(i["a"])(Y,x,U,!1,null,null,null),Q=K.exports,Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toy?r("section",[r("h2",[e._v(e._s(e.toy.name))]),r("h3",[e._v("Price: "+e._s(e.toy.price))]),r("h3",[e._v("Type: "+e._s(e.toy.type))]),e.toy.inStock?r("h3",{staticClass:"inStock"},[e._v("In stock")]):r("h3",{staticClass:"outOfStock"},[e._v("Out of stock")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.addReview(t)}}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.txt,expression:"reviewToEdit.txt"}],attrs:{placeholder:"Give us review"},domProps:{value:e.reviewToEdit.txt},on:{input:function(t){t.target.composing||e.$set(e.reviewToEdit,"txt",t.target.value)}}}),r("button",[e._v("Send")])]),r("p",[e._v(e._s(e.toy))]),r("button",{on:{click:e.goBack}},[e._v("Back")])]):e._e()},ee=[],te=r("bc3a"),re=r.n(te),ne=(r("99af"),r("96cf"),r("1da1")),oe=r("2f62"),se=(r("c740"),r("a434"),{strict:!0,state:{toys:[]},getters:{toys:function(e){return e.toys}},mutations:{loadToys:function(e,t){var r=t.toys;e.toys=r},deleteToy:function(e,t){var r=t.toyId,n=e.toys.findIndex((function(e){return e._id===r}));e.toys.splice(n,1)},editToy:function(e,t){var r=t.toy,n=e.toys.findIndex((function(e){return r._id===e._id}));e.toys.splice(n,1,r)},addToy:function(e,t){var r=t.toy;e.toys.unshift(r)}},actions:{loadToys:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Se.query();case 3:n=t.sent,r({type:"loadToys",toys:n});case 5:case"end":return t.stop()}}),t)})))()},deleteToy:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toyId,r.next=4,Se.remove(o);case 4:n({type:"deleteToy",toyId:o});case 5:case"end":return r.stop()}}),r)})))()},getEmpty:function(){return Se.getEmpty()},editToy:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toy,console.log("toy",o),r.next=5,Se.save(o);case 5:s=r.sent,n({type:"editToy",toy:s});case 7:case"end":return r.stop()}}),r)})))()},addToy:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,o=t.toy,r.next=4,Se.save(o);case 4:s=r.sent,n({type:"addToy",toy:s});case 6:case"end":return r.stop()}}),r)})))()}}}),ie=(r("4de4"),{login:pe,logout:he,signup:ve,getUsers:ae,getById:ue,remove:ce,update:le});function ae(){return Te.get("user")}function ue(e){return Te.get("user/".concat(e))}function ce(e){return console.log("userId",e),Te.delete("user/".concat(e))}function le(e){return Te.put("user/".concat(e._id),e)}function pe(e){return de.apply(this,arguments)}function de(){return de=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("userCred",t),e.next=3,Te.post("auth/login",t);case 3:return r=e.sent,e.abrupt("return",ge(r));case 5:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function ve(e){return me.apply(this,arguments)}function me(){return me=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",ge(r));case 4:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function he(){return fe.apply(this,arguments)}function fe(){return fe=Object(ne["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function ge(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var ye=null;sessionStorage.user&&(ye=JSON.parse(sessionStorage.user));var _e={state:{loggedinUser:ye,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userCred,r.next=3,ie.login(n);case 3:return o=r.sent,e.commit({type:"setUser",user:o}),r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.getUsers();case 2:r=t.sent,e.commit({type:"setUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userId,r.next=3,ie.remove(n);case 3:e.commit({type:"removeUser",userId:n});case 4:case"end":return r.stop()}}),r)})))()}}},we={add:xe,query:be,remove:ke};function be(){return Te.get("review")}function ke(e){return Te.delete("review/".concat(e))}function xe(e){return Te.post("review",e)}var Ue={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var r=t.reviews;e.reviews=r},addReview:function(e,t){var r=t.review;e.reviews.push(r)}},actions:{addReview:function(e,t){return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.review,console.log("ddd"),r.next=4,we.add(n);case 4:return n=r.sent,e.commit({type:"addReview",review:n}),r.abrupt("return",n);case 7:case"end":return r.stop()}}),r)})))()},loadReviews:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("lddd"),t.next=3,we.query();case 3:r=t.sent,e.commit({type:"setReviews",reviews:r});case 5:case"end":return t.stop()}}),t)})))()}}};n["a"].use(oe["a"]);var $e=new oe["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{toyStore:se,userStore:_e,reviewStore:Ue}}),je="/api/",Oe=re.a.create({withCredentials:!0}),Te={get:function(e,t){return Re(e,"GET",t)},post:function(e,t){return Re(e,"POST",t)},put:function(e,t){return Re(e,"PUT",t)},delete:function(e,t){return Re(e,"DELETE",t)}};function Re(e){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"get",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,Oe({url:"".concat(je).concat(t),method:r,data:n});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:throw e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&lt.push("/"),console.log("Had issues ".concat(r,"ing to server"),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),Ee.apply(this,arguments)}var Se={query:Ce,getById:De,remove:Ie,save:Pe,getEmpty:Ne};function Ce(){return Te.get("toy")}function De(e){return Te.get("toy/".concat(e))}function Ie(e){return Te.delete("toy/".concat(e))}function Pe(e){var t=e._id?Le(e):Ae(e);return t}function Ae(e){return Te.post("toy",e)}function Le(e){return Te.put("toy/".concat(e._id),e)}function Ne(){return{name:"",price:0,type:"",createdAt:new Date,inStock:!1}}var Be={data:function(){return{toy:null,reviewToEdit:{txt:"",aboutToyId:null}}},methods:{goBack:function(){this.$router.push("/")},addReview:function(){console.log(this.reviewToEdit),this.reviewToEdit.aboutToyId=this.toy._id,this.$store.dispatch({type:"addReview",review:this.reviewToEdit}),this.reviewToEdit={txt:"",aboutUserId:null},this.$store.dispatch({type:"loadReviews"})}},created:function(){var e=this,t=this.$route.params.id;Se.getById(t).then((function(t){return e.toy=t}))}},He=Be,Fe=Object(i["a"])(He,Z,ee,!1,null,null,null),Je=Fe.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.toy?r("section",{staticClass:"toy-edit"},[r("h1",[e._v("todo edit")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.saveToy(t)}}},[r("img",{staticClass:"toy-img",attrs:{src:e.toy.imgUrl}}),r("h3",[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.name,expression:"toy.name"}],attrs:{type:"text",placeholder:"Enter Toy Name"},domProps:{value:e.toy.name},on:{input:function(t){t.target.composing||e.$set(e.toy,"name",t.target.value)}}}),r("h3",[e._v("Type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.toy.type,expression:"toy.type"}],staticClass:"edit-select",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.toy,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"Funny"}},[e._v("Funny")]),r("option",{attrs:{value:"Adult"}},[e._v("Adult")]),r("option",{attrs:{value:"Educational"}},[e._v("Educational")])]),r("h3",[e._v("Price")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.price,expression:"toy.price"}],attrs:{type:"number",placeholder:"Enter Price"},domProps:{value:e.toy.price},on:{input:function(t){t.target.composing||e.$set(e.toy,"price",t.target.value)}}}),r("label",[e._v(" In stock? "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.toy.inStock,expression:"toy.inStock"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.toy.inStock)?e._i(e.toy.inStock,null)>-1:e.toy.inStock},on:{change:function(t){var r=e.toy.inStock,n=t.target,o=!!n.checked;if(Array.isArray(r)){var s=null,i=e._i(r,s);n.checked?i<0&&e.$set(e.toy,"inStock",r.concat([s])):i>-1&&e.$set(e.toy,"inStock",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(e.toy,"inStock",o)}}})]),e.isLoading?r("h3",[e._v("loading...")]):[r("input",{staticClass:"file",attrs:{type:"file",name:"img-uploader",id:"imgUploader"},on:{change:e.onUploadImg}})],r("button",[e._v("Save")]),r("button",{on:{click:e.goBack}},[e._v("Back")])],2)]):e._e()},Me=[],We=function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var r,n,o,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="toy_db",n="gabbay",o="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),s=new FormData,s.append("file",t.target.files[0]),s.append("upload_preset",r),e.prev=6,e.next=9,re.a.post(o,s);case 9:return i=e.sent,e.abrupt("return",i.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),Ge={name:"toy-edit",data:function(){return{toy:null,isLoading:!1,imgUrls:[]}},computed:{},methods:{goBack:function(){this.$router.push("/")},saveToy:function(){console.log(this.toy),this.toy._id?this.$store.dispatch({type:"editToy",toy:this.toy}):this.$store.dispatch({type:"addToy",toy:this.toy}),this.$router.push("/")},onUploadImg:function(e){var t=this;return Object(ne["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,We(e);case 3:n=r.sent,t.imgUrls.push(n.url),t.toy.imgUrl=n.url,console.log("this.toy.imgUrl ",t.toy.imgUrl),t.isLoading=!1;case 8:case"end":return r.stop()}}),r)})))()}},created:function(){var e=this;if(this.$route.params.id){var t=this.$route.params.id;Se.getById(t).then((function(t){e.toy=JSON.parse(JSON.stringify(t))}))}else this.$store.dispatch("getEmpty").then((function(t){return e.toy=t}))}},Ve=Ge,Xe=Object(i["a"])(Ve,qe,Me,!1,null,null,null),ze=Xe.exports,Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login-page"},[r("h1",[e._v("Please Login First")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.username,expression:"userCred.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter Username"},domProps:{value:e.userCred.username},on:{input:function(t){t.target.composing||e.$set(e.userCred,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.password,expression:"userCred.password"}],staticClass:"input",attrs:{type:"text",placeholder:"Password"},domProps:{value:e.userCred.password},on:{input:function(t){t.target.composing||e.$set(e.userCred,"password",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userCred.email,expression:"userCred.email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.userCred.email},on:{input:function(t){t.target.composing||e.$set(e.userCred,"email",t.target.value)}}}),r("button",[e._v("Login")])])])},Ke=[],Qe={name:"login-page",data:function(){return{userCred:{username:"",email:"",password:null}}},methods:{loginUser:function(){this.$store.dispatch({type:"login",userCred:this.userCred}),this.$router.push("/")}},computed:{},created:function(){},components:{}},Ze=Qe,et=Object(i["a"])(Ze,Ye,Ke,!1,null,null,null),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",[r("h1",[e._v("User Details - "+e._s(e.user.username))]),r("pre",[e._v(e._s(e.user))])]):e._e()},nt=[],ot={data:function(){return{user:null}},created:function(){var e=this;return Object(ne["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,ie.getById(r);case 3:n=t.sent,e.user=n;case 5:case"end":return t.stop()}}),t)})))()}},st=ot,it=Object(i["a"])(st,rt,nt,!1,null,null,null),at=it.exports;n["a"].use(l["a"]);var ut=[{path:"/user/details/:id",name:"userDetails",component:at},{path:"/",name:"toyApp",component:Q},{path:"/login",name:"login",component:tt},{path:"/details/:id",component:Je},{path:"/edit/:id?",component:ze},{path:"/",name:"Home",component:k},{path:"/about",name:"About"}],ct=new l["a"]({routes:ut}),lt=ct;r("5aea"),r("c1c3");n["a"].config.productionTip=!1,new n["a"]({router:lt,store:$e,render:function(e){return e(c)}}).$mount("#app")},"5aea":function(e,t,r){},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){},c0e9:function(e,t,r){},c1c3:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.4b07ddac.js.map